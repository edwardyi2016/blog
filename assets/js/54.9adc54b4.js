(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{281:function(t,s,e){"use strict";e.r(s);var a=e(0),n=Object(a.a)({},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("blockquote",[e("p",[t._v("引用自"),e("a",{attrs:{href:"http://www.itmuch.com/docker/05-docker-command-containers/",target:"_blank",rel:"noopener noreferrer"}},[t._v("《Docker系列教程05-容器常用命令》- 周立"),e("OutboundLink")],1)])]),t._v(" "),e("p",[t._v("本节我们来讨论Docker容器的常用命令。")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),e("p",[t._v("① -d选项：表示后台运行")]),t._v(" "),e("p",[t._v("② -P选项：随机端口映射")]),t._v(" "),e("p",[t._v("③ -p选项：指定端口映射，有以下四种格式。")]),t._v(" "),e("p",[t._v("ip:hostPort:containerPort")]),t._v(" "),e("p",[t._v("ip::containerPort")]),t._v(" "),e("p",[t._v("hostPort:containerPort")]),t._v(" "),e("p",[t._v("containerPort")]),t._v(" "),e("p",[t._v("④ –network选项：指定网络模式，该选项有以下可选参数：")]),t._v(" "),e("p",[t._v("–network=bridge： 默认选项，表示连接到默认的网桥。")]),t._v(" "),e("p",[t._v("–network=host：容器使用宿主机的网络。")]),t._v(" "),e("p",[t._v("–network=container:NAME_or_ID：告诉Docker让新建的容器使用已有容器的网络配置。")]),t._v(" "),e("p",[t._v("–network=none：不配置该容器的网络，用户可自定义网络配置。")]),t._v(" "),e("p",[t._v("示例1：")]),t._v(" "),t._m(3),t._m(4),t._v(" "),e("p",[t._v("示例2：")]),t._v(" "),t._m(5),e("p",[t._v("这样就能启动一个Nginx容器。在本例中，我们为docker run添加了两个参数，含义如下：")]),t._v(" "),t._m(6),e("p",[t._v("访问 http://Docker宿主机IP:91/ ，将会看到如图12-3的界面：")]),t._v(" "),t._m(7),t._v(" "),e("p",[t._v("图12-3 Nginx首页")]),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("需要注意的是，使用docker run命令创建容器时，会先检查本地是否存在指定镜像。如果本地不存在该名称的镜像，Docker就会自动从Docker Hub下载镜像并启动一个Docker容器。")]),t._v(" "),t._m(9),t._v(" "),t._m(10),t._v(" "),t._m(11),e("p",[t._v("如需列出所有容器（包括已停止的容器），可使用-a参数。")]),t._v(" "),e("p",[t._v("该表格包含了七列，含义如下：")]),t._v(" "),e("p",[t._v("① CONTAINER_ID：表示容器ID。")]),t._v(" "),e("p",[t._v("② IMAGE：表示镜像名称。")]),t._v(" "),e("p",[t._v("③ COMMAND：表示启动容器时运行的命令。")]),t._v(" "),e("p",[t._v("④ CREATED：表示容器的创建时间。")]),t._v(" "),e("p",[t._v("⑤ STATUS：表示容器运行的状态。Up表示运行中，Exited表示已停止。")]),t._v(" "),e("p",[t._v("⑥ PORTS：表示容器对外的端口号。")]),t._v(" "),e("p",[t._v("⑦ NAMES：表示容器名称。该名称默认由Docker自动生成，也可使用docker run命令的–name选项自行指定。")]),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(12),e("p",[t._v("参数：")]),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("示例：")]),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(17),e("p",[t._v("参数：")]),t._v(" "),t._m(18),t._v(" "),e("p",[t._v("示例：")]),t._v(" "),t._m(19),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(23),e("p",[t._v("参数：")]),t._v(" "),t._m(24),t._v(" "),e("p",[t._v("例如：")]),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(28),e("p",[t._v("参数：")]),t._v(" "),t._m(29),t._v(" "),e("p",[t._v("例如：")]),t._v(" "),t._m(30),t._m(31),t._v(" "),t._m(32),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(33),e("p",[t._v("参数：")]),t._v(" "),t._m(34),t._v(" "),t._m(35),t._v(" "),e("p",[t._v("某场景下，我们可能需要进入运行中的容器。")]),t._v(" "),t._m(36),t._v(" "),e("p",[t._v("例如：")]),t._v(" "),t._m(37),t._m(38),t._v(" "),t._m(39),t._v(" "),e("p",[t._v("nsenter工具包含在util-linux 2.23或更高版本中。为了连接到容器，我们需要找到容器第一个进程的PID，可通过以下命令获取：")]),t._v(" "),t._m(40),e("p",[t._v("获得PID后，就可使用nsenter命令进入容器了：")]),t._v(" "),t._m(41),e("p",[t._v("下面给出一个完整的例子：")]),t._v(" "),t._m(42),e("p",[t._v("读者也可将以上两条命令封装成一个Shell，从而简化进入容器的过程。")]),t._v(" "),e("p",[t._v("③ docker exec")]),t._v(" "),t._m(43),t._m(44),t._v(" "),t._m(45),t._v(" "),e("p",[t._v("命令格式")]),t._v(" "),t._m(46),e("p",[t._v("参数：")]),t._v(" "),t._m(47),t._v(" "),e("p",[t._v("例1：删除指定容器。")]),t._v(" "),t._m(48),e("p",[t._v("该命令只能删除已停止的容器，如需删除正在运行的容器，可使用-f参数。")]),t._v(" "),e("p",[t._v("例2：删除所有的容器。")]),t._v(" "),t._m(49),t._m(50),t._v(" "),e("p",[t._v("将容器导出成一个压缩包文件。")]),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(51),e("p",[t._v("参数：")]),t._v(" "),t._m(52),t._v(" "),e("p",[t._v("示例：")]),t._v(" "),t._m(53),t._m(54),t._v(" "),t._m(55),t._v(" "),e("p",[t._v("命令格式：")]),t._v(" "),t._m(56),e("p",[t._v("参数：")]),t._v(" "),t._m(57),t._v(" "),e("p",[t._v("示例：")]),t._v(" "),t._m(58),t._m(59),t._v(" "),e("p",[t._v("Docker的网络："),e("a",{attrs:{href:"https://docs.docker.com/engine/userguide/networking/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.docker.com/engine/userguide/networking/"),e("OutboundLink")],1),t._v("\nDocker命令："),e("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/docker/",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://docs.docker.com/engine/reference/commandline/docker/"),e("OutboundLink")],1)])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"docker容器命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker容器命令","aria-hidden":"true"}},[this._v("#")]),this._v(" Docker容器命令")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"新建并启动容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#新建并启动容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 新建并启动容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用以下 "),s("code",[this._v("docker run")]),this._v(" 命令即可新建并启动一个容器。该命令是我们最常用的命令了，它有很多选项，下面笔者列举一些常用的选项。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker run java /bin/echo "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v("'Hello World'")]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("这样终端会打印Hello World的字样，跟在本地直接执行 "),s("code",[this._v("/bin/echo 'Hello World'")]),this._v(" 一样。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker run -d -p 91:80 nginx\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v("-d                           # 后台运行\n-p 宿主机端口:容器端口         # 开放容器端口到宿主机端口\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:"http://www.itmuch.com/images/docker/12-3.png",alt:"Nginx首页"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("TIPS")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"列出容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#列出容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 列出容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("docker ps")]),this._v(" 命令即可列出运行中的容器。执行该命令后，可看到类似于如下的表格。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[this._v('CONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                         NAMES\n784fd3b294d7        nginx               "nginx -g \'daemon off"   20 minutes ago      Up 2 seconds        443/tcp, 0.0.0.0:91->80/tcp   backstabbing_archimedes\n')])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br"),s("span",{staticClass:"line-number"},[this._v("2")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--all, -a")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("列出所有容器，包括未运行的容器，默认只展示运行的容器")])]),t._v(" "),e("tr",[e("td",[t._v("--filter, -f")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("根据条件过滤显示内容")])]),t._v(" "),e("tr",[e("td",[t._v("--format")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("通过Go语言模板文件展示镜像")])]),t._v(" "),e("tr",[e("td",[t._v("--last, -n")]),t._v(" "),e("td",[t._v("-1")]),t._v(" "),e("td",[t._v("显示最近创建n个容器（包含所有状态）")])]),t._v(" "),e("tr",[e("td",[t._v("--latest, -l")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("显示最近创建的容器（包含所有状态）")])]),t._v(" "),e("tr",[e("td",[t._v("--no-trunc")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("不截断输出")])]),t._v(" "),e("tr",[e("td",[t._v("--quiet, -q")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("静默模式，只展示容器的编号")])]),t._v(" "),e("tr",[e("td",[t._v("--size, -s")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("显示总文件大小")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -n 5\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -a -q\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"停止容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#停止容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 停止容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("docker stop")]),this._v(" 命令，即可停止容器。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker stop "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CONTAINER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--time, -t")]),t._v(" "),e("td",[t._v("10")]),t._v(" "),e("td",[t._v("强制杀死容器前等待的时间，单位是秒")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker stop 784fd3b294d7\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("其中784fd3b294d7 是容器ID，当然也可使用 "),s("code",[this._v("docker stop 容器名称")]),this._v(" 来停止指定容器。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"强制停止容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#强制停止容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 强制停止容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可使用 "),s("code",[this._v("docker kill")]),this._v(" 命令停止一个或更多运行着的容器。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("kill")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CONTAINER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--signal, -s")]),t._v(" "),e("td",[t._v("KILL")]),t._v(" "),e("td",[t._v("向容器发送一个信号")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("kill")]),this._v(" 784fd3b294d7\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"启动已停止的容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动已停止的容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 启动已停止的容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("docker run")]),this._v(" 命令，即可新建并启动一个容器。对于已停止的容器，可使用 "),s("code",[this._v("docker start")]),this._v(" 命令来启动。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker start "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CONTAINER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--attach, -a")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("连接STDOUT/STDERR并转发信号")])]),t._v(" "),e("tr",[e("td",[t._v("--checkpoint")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("从该检查点还原")])]),t._v(" "),e("tr",[e("td",[t._v("--checkpoint-dir")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("使用自定义的检查点存储目录")])]),t._v(" "),e("tr",[e("td",[t._v("--detach-keys")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("覆盖断开容器的关键顺序")])]),t._v(" "),e("tr",[e("td",[t._v("--interactive, -i")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("连接容器的STDIN")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker start 784fd3b294d7\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"重启容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重启容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 重启容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可使用 "),s("code",[this._v("docker restart")]),this._v(" 命令来重启容器。该命令实际上是先执行了 "),s("code",[this._v("docker stop")]),this._v(" 命令，然后执行了 "),s("code",[this._v("docker start")]),this._v(" 命令。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker restart "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CONTAINER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--time, -t")]),t._v(" "),e("td",[t._v("10")]),t._v(" "),e("td",[t._v("关闭容器前等待的时间，单位是秒")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"进入容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 进入容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("① 使用 "),s("code",[this._v("docker attach")]),this._v(" 命令进入容器。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker attach 784fd3b294d7\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("很多场景下，使用 "),s("code",[this._v("docker attach")]),this._v(" 命令并不方便。当多个窗口同时attach到同一个容器时，所有窗口都会同步显示。同理，如果某个窗口发生阻塞，其他窗口也无法执行操作。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("② 使用 "),s("code",[this._v("nsenter")]),this._v(" 进入容器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker inspect --format "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"{{.State.Pid}}"')]),this._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$CONTAINER_ID")]),this._v("\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("nsenter --target "),s("span",{pre:!0,attrs:{class:"token string"}},[this._v('"'),s("span",{pre:!0,attrs:{class:"token variable"}},[this._v("$PID")]),this._v('"')]),this._v(" --mount --uts --ipc --net --pid\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# docker ps")]),t._v("\nCONTAINER ID        IMAGE               COMMAND                  CREATED             STATUS              PORTS                         NAMES\n784fd3b294d7        nginx               "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nginx -g \'daemon off"')]),t._v("   55 minutes ago      Up 3 minutes        443/tcp, 0.0.0.0:91-"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("80/tcp   backstabbing_archimedes\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('# docker inspect --format "{{.State.Pid}}" 784fd3b294d7')]),t._v("\n95492\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("root@localhost ~"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# nsenter --target 95492 --mount --uts --ipc --net --pid")]),t._v("\nroot@784fd3b294d7:/"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("exec")]),this._v(" -it 容器id /bin/bash\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"删除容器-重要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除容器-重要","aria-hidden":"true"}},[this._v("#")]),this._v(" 删除容器[重要]")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("docker rm")]),this._v(" 命令即可删除指定容器。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("CONTAINER"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("..")]),t._v("."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--force, -f")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("通过SIGKILL信号强制删除正在运行中的容器")])]),t._v(" "),e("tr",[e("td",[t._v("--link, -l")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("删除容器间的网络连接")])]),t._v(" "),e("tr",[e("td",[t._v("--volumes, -v")]),t._v(" "),e("td",[t._v("false")]),t._v(" "),e("td",[t._v("删除与容器关联的卷")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("rm")]),this._v(" 784fd3b294d7\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" -f "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("ps")]),t._v(" -a -q"),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"导出容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导出容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 导出容器")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" CONTAINER\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--output, -o")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("将内容写到文件而非STDOUT")])])])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" red_panda "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" latest.tar\ndocker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("export")]),t._v(" --output"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"latest.tar"')]),t._v(" red_panda\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"导入容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#导入容器","aria-hidden":"true"}},[this._v("#")]),this._v(" 导入容器")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("使用 "),s("code",[this._v("docker import")]),this._v(" 命令即可从归档文件导入内容并创建镜像。")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("docker "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("import")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("OPTIONS"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("file")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("URL"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("- "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("REPOSITORY"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v(":TAG"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("table",[e("thead",[e("tr",[e("th",[t._v("名称，缩写")]),t._v(" "),e("th",[t._v("默认值")]),t._v(" "),e("th",[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("--change, -c")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("将Dockerfile指令应用到创建的镜像")])]),t._v(" "),e("tr",[e("td",[t._v("--message, -m")]),t._v(" "),e("td"),t._v(" "),e("td",[t._v("为导入的镜像设置提交信息")])])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[this._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[this._v("import")]),this._v(" nginx2.tar nginx\n")])]),this._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[this._v("1")]),s("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("拓展阅读")])])}],!1,null,null,null);s.default=n.exports}}]);